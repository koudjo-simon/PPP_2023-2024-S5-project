{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/my-validators.service\";\nimport * as i4 from \"../admin-services/category.service\";\nimport * as i5 from \"@angular/common\";\nfunction EditCategoryComponent_small_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.myValService.getValidatorErrorMessage(\"Name\", ctx_r0.categoryFormGroup.controls[\"name\"].errors), \" \");\n  }\n}\nfunction EditCategoryComponent_small_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.myValService.getValidatorErrorMessage(\"Description\", ctx_r1.categoryFormGroup.controls[\"description\"].errors), \" \");\n  }\n}\nexport class EditCategoryComponent {\n  constructor(fb, route, myValService, catService) {\n    this.fb = fb;\n    this.route = route;\n    this.myValService = myValService;\n    this.catService = catService;\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.categoryId = Number(params.get('id'));\n    });\n    this.catService.getCategoryById(this.categoryId).subscribe({\n      next: value => {\n        this.categoryFormGroup = this.fb.group({\n          name: ['', Validators.required],\n          description: ['', Validators.required]\n        });\n      }\n    });\n  }\n  handleSubmit() {\n    let name = this.categoryFormGroup.value.name;\n    let description = this.categoryFormGroup.value.description;\n    this.catService.addCategory(name, description).subscribe({\n      next: value => {\n        alert(\"Category successfully update !\");\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n}\nEditCategoryComponent.ɵfac = function EditCategoryComponent_Factory(t) {\n  return new (t || EditCategoryComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MyValidatorsService), i0.ɵɵdirectiveInject(i4.CategoryService));\n};\nEditCategoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditCategoryComponent,\n  selectors: [[\"app-edit-category\"]],\n  decls: 18,\n  vars: 3,\n  consts: [[1, \"form_container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form_lines\"], [\"for\", \"name\"], [1, \"input_div\"], [\"placeholder\", \"Ex: choes\", \"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"description\"], [\"placeholder\", \"Enter the description of the product\", \"type\", \"text\", \"id\", \"description\", \"formControlName\", \"description\"], [\"type\", \"submit\"], [1, \"text-danger\"]],\n  template: function EditCategoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function EditCategoryComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.handleSubmit();\n      });\n      i0.ɵɵelementStart(2, \"h3\");\n      i0.ɵɵtext(3, \"ADD PRODUCT\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4);\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵtemplate(9, EditCategoryComponent_small_9_Template, 2, 1, \"small\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"Description \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4);\n      i0.ɵɵelement(14, \"input\", 8);\n      i0.ɵɵtemplate(15, EditCategoryComponent_small_15_Template, 2, 1, \"small\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"button\", 9);\n      i0.ɵɵtext(17, \"Register\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.categoryFormGroup);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.categoryFormGroup.controls[\"name\"].errors && ctx.categoryFormGroup.controls[\"name\"].touched);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.categoryFormGroup.controls[\"description\"].errors && ctx.categoryFormGroup.controls[\"description\"].touched);\n    }\n  },\n  dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAgCA,UAAU,QAAO,gBAAgB;;;;;;;;;ICOzDC,iCAA2H;IACzHA,YACF;IAAAA,iBAAQ;;;;IADNA,eACF;IADEA,uIACF;;;;;IAOAA,iCAAyI;IACvIA,YACF;IAAAA,iBAAQ;;;;IADNA,eACF;IADEA,qJACF;;;ADRR,OAAM,MAAOC,qBAAqB;EAKhCC,YAAoBC,EAAe,EACfC,KAAqB,EACtBC,YAAiC,EAChCC,UAA2B;IAH3B,OAAE,GAAFH,EAAE;IACF,UAAK,GAALC,KAAK;IACN,iBAAY,GAAZC,YAAY;IACX,eAAU,GAAVC,UAAU;EAAqB;EAEnDC,QAAQ;IAEN,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MACrC,IAAI,CAACC,UAAU,GAAGC,MAAM,CAACF,MAAM,CAACG,GAAG,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEF,IAAI,CAACP,UAAU,CAACQ,eAAe,CAAC,IAAI,CAACH,UAAU,CAAC,CAACF,SAAS,CAAC;MACzDM,IAAI,EAAEC,KAAK,IAAG;QACZ,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACd,EAAE,CAACe,KAAK,CAAC;UACrCC,IAAI,EAAE,CAAC,EAAE,EAAEpB,UAAU,CAACqB,QAAQ,CAAC;UAC/BC,WAAW,EAAE,CAAC,EAAE,EAAEtB,UAAU,CAACqB,QAAQ;SACtC,CAAC;MACJ;KACD,CAAC;EACJ;EAEAE,YAAY;IACV,IAAIH,IAAI,GAAG,IAAI,CAACF,iBAAiB,CAACD,KAAK,CAACG,IAAI;IAC5C,IAAIE,WAAW,GAAG,IAAI,CAACJ,iBAAiB,CAACD,KAAK,CAACK,WAAW;IAE1D,IAAI,CAACf,UAAU,CAACiB,WAAW,CAACJ,IAAI,EAAEE,WAAW,CAAC,CAACZ,SAAS,CAAC;MACvDM,IAAI,EAAGC,KAAK,IAAG;QACbQ,KAAK,CAAC,gCAAgC,CAAC;MACzC,CAAC;MACDC,KAAK,EAAEC,GAAG,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;KACD,CAAC;EACJ;;AAtCWzB,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXlCjC,8BAA4B;MAEYA;QAAA,OAAYkC,kBAAc;MAAA,EAAC;MAC/DlC,0BAAI;MAAAA,2BAAW;MAAAA,iBAAK;MACpBA,8BAAwB;MACJA,qBAAK;MAAAA,iBAAQ;MAC/BA,8BAAuB;MACrBA,2BAA4E;MAC5EA,0EAEQ;MACVA,iBAAM;MAERA,+BAAwB;MACGA,6BAAY;MAAAA,iBAAQ;MAC7CA,+BAAuB;MACrBA,4BAAqH;MACrHA,4EAEQ;MACVA,iBAAM;MAERA,kCAAsB;MAAAA,yBAAQ;MAAAA,iBAAS;;;MApBnCA,eAA+B;MAA/BA,iDAA+B;MAMvBA,eAA6F;MAA7FA,sHAA6F;MAS7FA,eAA2G;MAA3GA,oIAA2G","names":["Validators","i0","EditCategoryComponent","constructor","fb","route","myValService","catService","ngOnInit","paramMap","subscribe","params","categoryId","Number","get","getCategoryById","next","value","categoryFormGroup","group","name","required","description","handleSubmit","addCategory","alert","error","err","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\PROJETS\\PPP - 2023_2024\\FreshFoodsOnline\\src\\app\\module-admin\\edit-category\\edit-category.component.ts","D:\\PROJETS\\PPP - 2023_2024\\FreshFoodsOnline\\src\\app\\module-admin\\edit-category\\edit-category.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {MyValidatorsService} from \"../../services/my-validators.service\";\nimport {CategoryService} from \"../admin-services/category.service\";\nimport {ActivatedRoute} from \"@angular/router\";\n\n@Component({\n  selector: 'app-edit-category',\n  templateUrl: './edit-category.component.html',\n  styleUrls: ['./edit-category.component.scss']\n})\nexport class EditCategoryComponent {\n\n  categoryFormGroup !: FormGroup;\n  categoryId !: number\n\n  constructor(private fb: FormBuilder,\n              private route: ActivatedRoute,\n              public myValService: MyValidatorsService,\n              private catService: CategoryService) { }\n\n  ngOnInit() {\n\n    this.route.paramMap.subscribe(params => {\n      this.categoryId = Number(params.get('id'));\n    })\n\n    this.catService.getCategoryById(this.categoryId).subscribe({\n      next: value => {\n        this.categoryFormGroup = this.fb.group({\n          name: ['', Validators.required],\n          description: ['', Validators.required]\n        })\n      }\n    })\n  }\n\n  handleSubmit() {\n    let name = this.categoryFormGroup.value.name;\n    let description = this.categoryFormGroup.value.description;\n\n    this.catService.addCategory(name, description).subscribe({\n      next : value => {\n        alert(\"Category successfully update !\")\n      },\n      error: err => {\n        console.log(err)\n      }\n    })\n  }\n\n}\n","<div class=\"form_container\">\n\n  <form [formGroup]=\"categoryFormGroup\" (ngSubmit)=\"handleSubmit()\">\n    <h3>ADD PRODUCT</h3>\n    <div class=\"form_lines\">\n      <label for=\"name\">Name </label>\n      <div class=\"input_div\">\n        <input placeholder=\"Ex: choes\" type=\"text\" id=\"name\" formControlName=\"name\">\n        <small *ngIf=\"categoryFormGroup.controls['name'].errors && categoryFormGroup.controls['name'].touched\" class=\"text-danger\">\n          {{ myValService.getValidatorErrorMessage('Name', categoryFormGroup.controls['name'].errors) }}\n        </small>\n      </div>\n    </div>\n    <div class=\"form_lines\">\n      <label for=\"description\">Description </label>\n      <div class=\"input_div\">\n        <input placeholder=\"Enter the description of the product\" type=\"text\" id=\"description\" formControlName=\"description\">\n        <small *ngIf=\"categoryFormGroup.controls['description'].errors && categoryFormGroup.controls['description'].touched\" class=\"text-danger\">\n          {{ myValService.getValidatorErrorMessage('Description', categoryFormGroup.controls['description'].errors) }}\n        </small>\n      </div>\n    </div>\n    <button type=\"submit\">Register</button>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}