{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(prodService, route, foodService, cartService, router) {\n    this.prodService = prodService;\n    this.route = route;\n    this.foodService = foodService;\n    this.cartService = cartService;\n    this.router = router;\n    this.products = [];\n    this._foodFilter = '';\n    this.filteredProduct = [];\n    this.selectedProduct = [];\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {});\n    this.foodService.getAll().subscribe({\n      next: data => {\n        this.products = data;\n        console.log(this.products);\n        this.filteredProduct = this.products;\n      },\n      error: err => console.log(err)\n    });\n  }\n  get foodFilter() {\n    return this._foodFilter;\n  }\n  set foodFilter(filter) {\n    this._foodFilter = filter;\n    this.filteredProduct = this.foodFilter ? this.filterFoods(this.foodFilter) : this.products;\n  }\n  filterFoods(criteria) {\n    criteria = criteria.toLowerCase();\n    const result = this.products.filter(food => food.name.toLowerCase().indexOf(criteria) != -1);\n    return result;\n  }\n  addToPanier(prod) {\n    this.selectedProduct.push(prod);\n    this.cartService.addToCart(prod);\n  }\n  goToFoodDetail(id) {\n    this.router.navigateByUrl(\"client/food/\" + id).then(r => true);\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAa1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAMxBC,YAAoBC,WAA2B,EACrCC,KAAqB,EACrBC,WAAwB,EACxBC,WAAwB,EACxBC,MAAc;IAJJ,gBAAW,GAAXJ,WAAW;IACrB,UAAK,GAALC,KAAK;IACL,gBAAW,GAAXC,WAAW;IACX,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IAThB,aAAQ,GAAW,EAAE;IACb,gBAAW,GAAW,EAAE;IACzB,oBAAe,GAAW,EAAE;IAC3B,oBAAe,GAAW,EAAE;EAMT;EAE3BC,QAAQ;IACN,IAAI,CAACJ,KAAK,CAACK,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG,CAErC,CAAC,CAAC;IACF,IAAI,CAACJ,WAAW,CAACM,MAAM,EAAE,CAACD,SAAS,CAAC;MAClCE,IAAI,EAAEC,IAAI,IAAG;QACX,IAAI,CAACC,QAAQ,GAAGD,IAAI;QACpBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,QAAQ,CAAC;QAC1B,IAAI,CAACG,eAAe,GAAG,IAAI,CAACH,QAAQ;MACtC,CAAC;MACDI,KAAK,EAAEC,GAAG,IAAIJ,OAAO,CAACC,GAAG,CAACG,GAAG;KAC9B,CAAC;EACJ;EAEA,IAAWC,UAAU;IACnB,OAAO,IAAI,CAACC,WAAW;EACzB;EAEA,IAAWD,UAAU,CAACE,MAAc;IAClC,IAAI,CAACD,WAAW,GAAGC,MAAM;IACzB,IAAI,CAACL,eAAe,GAAG,IAAI,CAACG,UAAU,GAAG,IAAI,CAACG,WAAW,CAAC,IAAI,CAACH,UAAU,CAAC,GAAG,IAAI,CAACN,QAAQ;EAC5F;EAEQS,WAAW,CAACC,QAAgB;IAClCA,QAAQ,GAAGA,QAAQ,CAACC,WAAW,EAAE;IACjC,MAAMC,MAAM,GAAG,IAAI,CAACZ,QAAQ,CAACQ,MAAM,CAChCK,IAAU,IAAKA,IAAI,CAACC,IAAI,CAACH,WAAW,EAAE,CAACI,OAAO,CAACL,QAAQ,CAAC,IAAI,CAAC,CAAC,CAChE;IACD,OAAOE,MAAM;EACf;EAEOI,WAAW,CAACC,IAAU;IAC3B,IAAI,CAACC,eAAe,CAACC,IAAI,CAACF,IAAI,CAAC;IAC/B,IAAI,CAACzB,WAAW,CAAC4B,SAAS,CAACH,IAAI,CAAC;EAClC;EAEOI,cAAc,CAACC,EAAU;IAC9B,IAAI,CAAC7B,MAAM,CAAC8B,aAAa,CAAC,cAAc,GAAGD,EAAE,CAAC,CAACE,IAAI,CAACC,CAAC,IAAK,IAAI,CAAC;EACjE;CAID;AAtDYtC,aAAa,eALzBD,SAAS,CAAC;EACTwC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWzC,aAAa,CAsDzB;SAtDYA,aAAa","names":["Component","HomeComponent","constructor","prodService","route","foodService","cartService","router","ngOnInit","params","subscribe","getAll","next","data","products","console","log","filteredProduct","error","err","foodFilter","_foodFilter","filter","filterFoods","criteria","toLowerCase","result","food","name","indexOf","addToPanier","prod","selectedProduct","push","addToCart","goToFoodDetail","id","navigateByUrl","then","r","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\PROJETS\\PPP - 2023_2024\\FreshFoodsOnline\\src\\app\\module-client\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CartService } from '../../services/cart.service';\r\nimport {Product} from \"../../shared/model/Product\";\r\nimport {ProductService} from \"../../module-admin/admin-services/product.service\";\r\nimport {Food} from \"../../shared/model/food\";\r\nimport {FoodService} from \"../../services/food.service\";\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  products: Food[] = [];\r\n  private _foodFilter: string = '';\r\n  public filteredProduct: Food[] = [];\r\n  private selectedProduct: Food[] = [];\r\n\r\n  constructor(private prodService: ProductService,\r\n    private route: ActivatedRoute,\r\n    private foodService: FoodService,\r\n    private cartService: CartService,\r\n    private router: Router){ }\r\n\r\n  ngOnInit(): void{\r\n    this.route.params.subscribe(params => {\r\n\r\n    })\r\n    this.foodService.getAll().subscribe({\r\n      next: data => {\r\n        this.products = data;\r\n        console.log(this.products)\r\n        this.filteredProduct = this.products;\r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  public get foodFilter(): string {\r\n    return this._foodFilter;\r\n  }\r\n\r\n  public set foodFilter(filter: string){\r\n    this._foodFilter = filter;\r\n    this.filteredProduct = this.foodFilter ? this.filterFoods(this.foodFilter) : this.products;\r\n  }\r\n\r\n  private filterFoods(criteria: string): Food[] {\r\n    criteria = criteria.toLowerCase();\r\n    const result = this.products.filter(\r\n      (food: Food) => food.name.toLowerCase().indexOf(criteria) != -1\r\n    );\r\n    return result;\r\n  }\r\n\r\n  public addToPanier(prod: Food): void{\r\n    this.selectedProduct.push(prod);\r\n    this.cartService.addToCart(prod);\r\n  }\r\n\r\n  public goToFoodDetail(id: number){\r\n    this.router.navigateByUrl(\"client/food/\" + id).then(r  => true);\r\n  }\r\n\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}