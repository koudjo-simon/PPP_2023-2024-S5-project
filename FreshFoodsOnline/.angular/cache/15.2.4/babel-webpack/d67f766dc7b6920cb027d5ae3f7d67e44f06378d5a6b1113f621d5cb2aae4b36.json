{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(fs, route, cartService, router) {\n    this.fs = fs;\n    this.route = route;\n    this.cartService = cartService;\n    this.router = router;\n    this.foods = [];\n    this._foodFilter = '';\n    this.filteredFoods = [];\n    this.selectedFoods = [];\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.fs.getAll().subscribe({\n        next: data => {\n          this.foods = data;\n        },\n        error: err => console.log(err)\n      });\n      this.filteredFoods = this.foods;\n    });\n  }\n  get foodFilter() {\n    return this._foodFilter;\n  }\n  set foodFilter(filter) {\n    this._foodFilter = filter;\n    this.filteredFoods = this.foodFilter ? this.filterFoods(this.foodFilter) : this.foods;\n  }\n  filterFoods(criteria) {\n    criteria = criteria.toLowerCase();\n    const result = this.foods.filter(food => food.name.toLowerCase().indexOf(criteria) != -1);\n    return result;\n  }\n  addToPanier(food) {\n    this.selectedFoods.push(food);\n    const sfood = {\n      id: food.id,\n      name: food.name,\n      price: food.price,\n      cookTime: food.cookTime,\n      origins: food.origins\n    };\n    this.cartService.addToCart(sfood);\n  }\n  goToFoodDetail(id) {\n    this.router.navigateByUrl(\"food/\" + id);\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAOxBC,YAAoBC,EAAe,EACzBC,KAAqB,EACrBC,WAAwB,EACxBC,MAAc;IAHJ,OAAE,GAAFH,EAAE;IACZ,UAAK,GAALC,KAAK;IACL,gBAAW,GAAXC,WAAW;IACX,WAAM,GAANC,MAAM;IAThB,UAAK,GAAY,EAAE;IACX,gBAAW,GAAW,EAAE;IACzB,kBAAa,GAAY,EAAE;IAC1B,kBAAa,GAAY,EAAE;EAMR;EAE3BC,QAAQ;IACN,IAAI,CAACH,KAAK,CAACI,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACjC,IAAI,CAACL,EAAE,CAACO,MAAM,EAAE,CAACD,SAAS,CAAC;QACzBE,IAAI,EAAEC,IAAI,IAAG;UACX,IAAI,CAACC,KAAK,GAAGD,IAAI;QACnB,CAAC;QACDE,KAAK,EAAEC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG;OAC9B,CAAC;MACF,IAAI,CAACG,aAAa,GAAG,IAAI,CAACL,KAAK;IACnC,CAAC,CAAC;EACJ;EAEA,IAAWM,UAAU;IACnB,OAAO,IAAI,CAACC,WAAW;EACzB;EAEA,IAAWD,UAAU,CAACE,MAAc;IAClC,IAAI,CAACD,WAAW,GAAGC,MAAM;IACzB,IAAI,CAACH,aAAa,GAAG,IAAI,CAACC,UAAU,GAAG,IAAI,CAACG,WAAW,CAAC,IAAI,CAACH,UAAU,CAAC,GAAG,IAAI,CAACN,KAAK;EACvF;EAEQS,WAAW,CAACC,QAAgB;IAClCA,QAAQ,GAAGA,QAAQ,CAACC,WAAW,EAAE;IACjC,MAAMC,MAAM,GAAG,IAAI,CAACZ,KAAK,CAACQ,MAAM,CAC7BK,IAAW,IAAKA,IAAI,CAACC,IAAI,CAACH,WAAW,EAAE,CAACI,OAAO,CAACL,QAAQ,CAAC,IAAI,CAAC,CAAC,CACjE;IACD,OAAOE,MAAM;EACf;EAEOI,WAAW,CAACH,IAAW;IAC5B,IAAI,CAACI,aAAa,CAACC,IAAI,CAACL,IAAI,CAAC;IAC7B,MAAMM,KAAK,GAAW;MACpBC,EAAE,EAAEP,IAAI,CAACO,EAAE;MACXN,IAAI,EAAED,IAAI,CAACC,IAAI;MACfO,KAAK,EAAER,IAAI,CAACQ,KAAK;MACjBC,QAAQ,EAAET,IAAI,CAACS,QAAQ;MACvBC,OAAO,EAAEV,IAAI,CAACU;KACf;IACD,IAAI,CAAC/B,WAAW,CAACgC,SAAS,CAACL,KAAK,CAAC;EACnC;EAEOM,cAAc,CAACL,EAAU;IAC9B,IAAI,CAAC3B,MAAM,CAACiC,aAAa,CAAC,OAAO,GAACN,EAAE,CAAC;EACvC;CAED;AAzDYhC,aAAa,eALzBD,SAAS,CAAC;EACTwC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWzC,aAAa,CAyDzB;SAzDYA,aAAa","names":["Component","HomeComponent","constructor","fs","route","cartService","router","ngOnInit","params","subscribe","getAll","next","data","foods","error","err","console","log","filteredFoods","foodFilter","_foodFilter","filter","filterFoods","criteria","toLowerCase","result","food","name","indexOf","addToPanier","selectedFoods","push","sfood","id","price","cookTime","origins","addToCart","goToFoodDetail","navigateByUrl","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\ESIG GLOBAL SUCCESS - PARCOURS\\ESIG LICENCE 2 - GÃ©nie Logiciel\\ESIG Licence 2 - SEMESTRE 4\\Licence 2 - Complement Web\\TRAVAIL DE M. AGBO - COMPLEMENT DEVELOPPEMENT\\FreshFoodsOnline\\src\\app\\module-client\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FoodService } from '../../services/food.service';\nimport { Foods } from '../../shared/model/food';\nimport { ISFood } from '../../shared/model/ISFood';\nimport { CartService } from '../../services/cart.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  foods: Foods[] = [];\n  private _foodFilter: string = '';\n  public filteredFoods: Foods[] = [];\n  private selectedFoods: Foods[] = [];\n\n\n  constructor(private fs: FoodService, \n    private route: ActivatedRoute, \n    private cartService: CartService,\n    private router: Router){ }\n\n  ngOnInit(): void{\n    this.route.params.subscribe(params => {\n        this.fs.getAll().subscribe({\n          next: data => {\n            this.foods = data;\n          },\n          error: err => console.log(err)\n        });\n        this.filteredFoods = this.foods;\n    })\n  }\n\n  public get foodFilter(): string {\n    return this._foodFilter;\n  }\n\n  public set foodFilter(filter: string){\n    this._foodFilter = filter;\n    this.filteredFoods = this.foodFilter ? this.filterFoods(this.foodFilter) : this.foods;\n  }\n\n  private filterFoods(criteria: string): Foods[] {\n    criteria = criteria.toLowerCase();\n    const result = this.foods.filter(\n      (food: Foods) => food.name.toLowerCase().indexOf(criteria) != -1\n    );\n    return result;\n  }\n\n  public addToPanier(food: Foods): void{\n    this.selectedFoods.push(food);\n    const sfood: ISFood = {\n      id: food.id,\n      name: food.name,\n      price: food.price,\n      cookTime: food.cookTime,\n      origins: food.origins\n    }\n    this.cartService.addToCart(sfood);\n  }\n\n  public goToFoodDetail(id: number){\n    this.router.navigateByUrl(\"food/\"+id);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}