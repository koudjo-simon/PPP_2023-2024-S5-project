{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../module-admin/admin-services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/food.service\";\nimport * as i4 from \"../../services/cart.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction HomeComponent_div_12_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const origin_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", origin_r3, \" \");\n  }\n}\nfunction HomeComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9);\n    i0.ɵɵelement(2, \"img\", 10);\n    i0.ɵɵelementStart(3, \"div\", 11)(4, \"div\", 12)(5, \"h5\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8, \" \\u2764 \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"div\", 14);\n    i0.ɵɵtemplate(11, HomeComponent_div_12_span_11_Template, 2, 1, \"span\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 12)(13, \"div\", 16)(14, \"strong\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 17)(17, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_12_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const food_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.addToPanier(food_r1));\n    });\n    i0.ɵɵtext(18, \"ADD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\", 19);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_12_Template_span_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const food_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.goToFoodDetail(food_r1.foodId));\n    });\n    i0.ɵɵtext(20, \" keyboard_arrow_right \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const food_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", food_r1.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", food_r1.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(food_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(food_r1.favorite ? \"\" : \"not\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", food_r1.origins);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", food_r1.price, \"$\");\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(prodService, route, foodService, cartService, router) {\n      this.prodService = prodService;\n      this.route = route;\n      this.foodService = foodService;\n      this.cartService = cartService;\n      this.router = router;\n      this.products = [];\n      this._foodFilter = '';\n      this.filteredProduct = [];\n      this.selectedProduct = [];\n    }\n    ngOnInit() {\n      this.route.params.subscribe(params => {});\n      this.foodService.getAll().subscribe({\n        next: data => {\n          this.products = data;\n          console.log(this.products);\n          this.filteredProduct = this.products;\n        },\n        error: err => console.log(err)\n      });\n    }\n    get foodFilter() {\n      return this._foodFilter;\n    }\n    set foodFilter(filter) {\n      this._foodFilter = filter;\n      this.filteredProduct = this.foodFilter ? this.filterFoods(this.foodFilter) : this.products;\n    }\n    filterFoods(criteria) {\n      criteria = criteria.toLowerCase();\n      const result = this.products.filter(food => food.name.toLowerCase().indexOf(criteria) != -1);\n      return result;\n    }\n    addToPanier(prod) {\n      this.selectedProduct.push(prod);\n      this.cartService.addToCart(prod);\n    }\n    goToFoodDetail(id) {\n      this.router.navigateByUrl(\"client/food/\" + id).then(r => true);\n    }\n  }\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FoodService), i0.ɵɵdirectiveInject(i4.CartService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 13,\n    vars: 3,\n    consts: [[1, \"container\", \"mt-3\"], [1, \"row\"], [1, \"col-md-2\"], [1, \"search\"], [1, \"col-md-8\", \"form-group\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"row-cols-1\", \"row-cols-md-3\"], [\"class\", \"col-md-3 mt-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-3\", \"mt-3\"], [1, \"card\", \"h-100\", \"food-card\", 2, \"border-radius\", \"1rem\", \"background-color\", \"rgba(138, 20, 20, 0.116)\"], [2, \"border-radius\", \"1rem\", 3, \"src\", \"alt\"], [1, \"card-body\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-baseline\"], [1, \"card-title\", \"title-color\"], [1, \"origins\"], [4, \"ngFor\", \"ngForOf\"], [1, \"price\"], [1, \"card-footer\", \"text-muted\", \"d-flex\", \"justify-content-between\"], [1, \"btn\", \"btn-outline-success\", 3, \"click\"], [1, \"material-icons\", \"bg-info\", \"text-white\", \"p-2\", \"rounded-circle\", \"btn\", 3, \"click\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"span\", 3)(4, \"h5\");\n        i0.ɵɵtext(5, \"Search:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"b\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 4)(9, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.foodFilter = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(10, \"hr\");\n        i0.ɵɵelementStart(11, \"div\", 6);\n        i0.ɵɵtemplate(12, HomeComponent_div_12_Template, 21, 8, \"div\", 7);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.foodFilter);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.foodFilter);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredProduct);\n      }\n    },\n    dependencies: [i5.NgForOf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel],\n    styles: [\"ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22rem;width:20rem;border:1 px solid whitesmoke;border-radius:1rem;margin:.5rem;display:flex;flex-direction:column;overflow:hidden;color:#e72929}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{opacity:.9;cursor:pointer}.content[_ngcontent-%COMP%]{padding:.5rem 1rem;position:relative}.favorite[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:1rem;font-size:1.2rem}.favorite.not[_ngcontent-%COMP%]{color:#000}.product-item-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.origins[_ngcontent-%COMP%]{flex:9}.origins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:2rem;background-color:#f5f5f5;color:gray;font-size:.8rem;margin-right:.3rem;display:inline-block}.cook-time[_ngcontent-%COMP%]{font-size:.8rem;flex:3;text-align:center}.price[_ngcontent-%COMP%]{color:#790606;margin-top:.2rem}.title-color[_ngcontent-%COMP%]{color:#000}.food-card[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}